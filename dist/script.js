(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n(a.key),a)}}function n(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}function i(e){var t=document.createElement("button"),n=document.createElement("i");return n.classList.add("bi"),"next"===e?(t.classList.add("bd-carousel__btn--next"),n.classList.add("bi-arrow-right-short")):"prev"===e&&(t.classList.add("bd-carousel__btn--prev"),n.classList.add("bi-arrow-left-short")),t.appendChild(n),t}var a=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.wrapper=this.element.querySelector(".bd-carousel__wrapper"),this.currentIndex=0,this.speed=parseInt(this.element.getAttribute("data-speed"))||3e3,this.direction=this.element.getAttribute("data-direction")||"left",this.autoplay="true"===this.element.getAttribute("data-autoplay"),this.autoplayTimer=parseInt(this.element.getAttribute("data-autoplay-timer"))||5e3,this.init()},n=[{key:"init",value:function(){var e=this.element,t=this.wrapper,n=Array.from(t.children);console.log(n);var a,r=i("next"),o=i("prev"),s=((a=document.createElement("div")).classList.add("bd-carousel__nav"),a),l=n[0].getBoundingClientRect().width,c=this.speed,d=(this.direction,this.autoplay,this.autoplayTimer);e.appendChild(r),e.appendChild(o),e.appendChild(s);var u=function(e){r.disabled=e,o.disabled=e,v.forEach((function(t){t.disabled=e}))};window.addEventListener("resize",(function(){l=n[0].getBoundingClientRect().width})),n.forEach((function(e,t){var n=document.createElement("button");n.classList.add("bd-carousel__nav-dot");var i=document.createElement("div");i.classList.add("bd-carousel__nav-dot-timer");var a=document.createElement("p"),r=e.querySelector(".wp-block-heading");r&&(a.innerText=r.innerText),0===t?(e.classList.add("active"),n.classList.add("active"),e.style.transform="translateX(".concat(0,"px)")):e.style.transform="translateX(".concat(l,"px)"),n.appendChild(i),n.appendChild(a),s.appendChild(n)})),o.classList.add("hidden");var v=Array.from(s.children);function m(e,t,n){u(!0),t.style.transition="transform ".concat(c,"ms ease"),t.style.transform="translateX(".concat(0,"px)"),e.classList.remove("active"),t.classList.add("active"),t.nextElementSibling?t.previousElementSibling?(r.classList.remove("hidden"),o.classList.remove("hidden")):(o.classList.add("hidden"),r.classList.remove("hidden")):(r.classList.add("hidden"),o.classList.remove("hidden")),setTimeout((function(){t.style.transition="transform ".concat(0,"ms ease"),e.style.transform="translateX(".concat(n?"":"-").concat(l,"px)"),u(!1)}),c)}function f(e,t){e.classList.remove("active"),t.classList.add("active"),e.querySelector(".bd-carousel__nav-dot-timer").style.animation="",t.querySelector(".bd-carousel__nav-dot-timer").style.animation="timerAnimation ".concat(d,"ms linear forwards")}if(r.addEventListener("click",(function(e){var n=t.querySelector(".active"),i=n.nextElementSibling,a=s.querySelector(".active"),r=a.nextElementSibling;i&&(m(n,i,!1),f(a,r))})),o.addEventListener("click",(function(e){var n=t.querySelector(".active"),i=n.previousElementSibling,a=s.querySelector(".active"),r=a.previousElementSibling;i&&(m(n,i,!0),f(a,r))})),s.addEventListener("click",(function(e){var i=e.target.closest("button");if(i){var a=t.querySelector(".active"),r=s.querySelector(".active"),o=n.findIndex((function(e){return e===a})),l=v.findIndex((function(e){return e===i})),c=n[l];l>o?m(a,c,!1):l<o&&m(a,c,!0),f(r,i)}})),n.length<=1)r.classList.add("hidden"),o.classList.add("hidden"),s.classList.add("hidden");else{var p=function(){return setInterval((function(){var e=t.querySelector(".active"),i=e.nextElementSibling||n[0],a=s.querySelector(".active"),r=a.nextElementSibling||v[0];m(e,i,!1),f(a,r)}),d)};s.querySelector(".active").querySelector(".bd-carousel__nav-dot-timer").style.animation="timerAnimation ".concat(d,"ms linear forwards"),autoplayInterval=p(),r.addEventListener("click",(function(){clearInterval(autoplayInterval),autoplayInterval=p()})),o.addEventListener("click",(function(){clearInterval(autoplayInterval),autoplayInterval=p()}))}}}],n&&t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".bd-carousel").forEach((function(e){new a(e)}))}))})();
//# sourceMappingURL=script.js.map